<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
$(document).ready(function(){
                  $(".back").hide(10);
                  $.getJSON("http://localhost:5000/test", function(result){
                    var data = result.name;
                    for (var i = 0; i < result.name.length ; i++) {

                    var buttons = $('<button class="button"  data-value='+ data[i] +' > '+ data[i] + ' </button>' + '<br>'+ '<br>')

                    buttons.appendTo('#ID');
                    $("#chefName").hide(1000);
                    $("#dishname").hide(1000);
                    $("#price").hide(1000);
                    $("#availability").hide(1000);
                    $("#quantity").hide(1000);
                    $("#customer").hide(1000);
                    $("#address").hide(1000);
                    $("#contact").hide(1000);
                    $("#customer_contact").hide(1000);
                    $(".order").hide(1000);


                    }

                    $('.button').click(function(e) {
                    var name = $(this).data('value');
	                alert("Chef ID "+ name);
                    var url = "http://localhost:5000/get/homechef/"+ name
                    alert(" Dish URL" + url);

                     $.getJSON(url, function(result){
                       var chefname = result.chefname
                       var contact = result.contact
                       var dishname =  result.dishname
                       var price =  " Price "+ result.price
                       var availability =  " Availability "+ result.availability
                       var quantity = $("#quantity");
                       var customer = $("#customer");
                       var address =  $("#address");
                       var customer_contact = $("#customer_contact");
                       $("#ID").hide(1000);

                        $(".back").show(1000);
                        $("#chefName").append("Chef ID "+ chefname ).show(1000);
                        $("#contact").append("chefContact "+ contact ).show(1000);
                        $("#dishname").append(dishname).show(1000);
                        $("#price").append(price).show(1000);
                        $("#availability").append(availability).show(1000);
                        $("#customer").append(customer).show(1000);
                        $("#address").append(address).show(1000);
                        $("#customer_contact").append(customer_contact).show(1000);
                        $("#quantity").append(quantity).show(1000);

                        var ordername = "Order!"
                        var order = $('<button class="order"  data-value='+ chefname +' >'+ ordername  + '</button>' + '<br>'+ '<br>')
                        order.appendTo('#order');
                         $('.order').click(function(e , dishname) {
                                var chef_name =  $(this).data('value')

                                var dish_name = $("#dishname").text()


                                var  order_quantity = $("#quantity").val()

                                var customer_name = $("#customer").val()

                                var  order_address = $("#address").val()

                                var customer_contact = $("#customer_contact").val()

                                var order_details = {
                                               'chef_name': chef_name ,
                                               'order_quantity': order_quantity,
                                               'dish':  dish_name ,
                                               'customer_name' : customer_name,
                                               'address' : order_address,
                                               'customer_contact' : customer_contact
                                             }
                                var myJSON = JSON.stringify(order_details);
                                alert("order_details" + myJSON);
                                alert("Your Order placed !");
                                var order_url = "http://localhost:5000/order"

                                $.post(order_url , myJSON , function(result){
                                   $("#chefName").hide(1000);
                                   $("#contact").hide(1000);
                                   $("#dishname").hide(1000);
                                   $("#price").hide(1000);
                                   $("#availability").hide(1000);
                                   $("#quantity").hide(1000);
                                   $("#customer").hide(1000);
                                   $("#address").hide(1000);
                                   $("#customer_contact").hide(1000);

                                   $(".order").hide(1000);
                                   var response = result.response
                                   $(".response").append( response );
                                });





                          });

                        });

                      });
                  });



});
</script>







<style>


div.chef {
  width: 70%;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  text-align: center;
}

div.container {
  padding: 10px;
}

 .button {
        cursor: pointer;
        border-radius: 5em;
        color: #fff;
        background: linear-gradient(to right, #FFA07A, #DC143C);
        border: 0;
        width:200px;
        padding-left: 40px;
        padding-right: 40px;
        padding-bottom: 10px;
        padding-top: 10px;
        font-family: 'Ubuntu', sans-serif;
        font-size: 13px;
        box-shadow: 0 0 20px 1px rgba(0, 0, 0, 0.04);
        }
 .order{
        cursor: pointer;
        border-radius: 5em;
        color: #fff;
        background: linear-gradient(to right, #FFA07A, #DC143C);
        border: 0;
        padding-left: 40px;
        padding-right: 40px;
        padding-bottom: 10px;
        padding-top: 10px;
        font-family: 'Ubuntu', sans-serif;
        font-size: 13px;
        box-shadow: 0 0 20px 1px rgba(0, 0, 0, 0.04);
        }

 .details{
    width: 20%;
    color: rgb(38, 50, 56);
    font-weight: 700;
    font-size: 14px;
    letter-spacing: 1px;
    background: rgba(136, 126, 126, 0.04);
    padding: 10px 20px;
    border: none;
    border-radius: 20px;
    outline: none;
    box-sizing: border-box;
    border: 2px solid rgba(0, 0, 0, 0.02);
    margin-bottom: 50px;
    margin-left: 46px;
    text-align: center;
    margin-bottom: 27px;
    font-family: 'Ubuntu', sans-serif;
    }
 a {
   text-decoration: none;
   display: inline-block;
   padding: 20px;
   font-size: 35px;
   width: 40px;
   text-align: center;
}
  .back:hover {
   background-color: #ddd;
   color: black;
   }

.back {
   border-radius: 50%;
   background-color: #acacac;
   color: black;
   }

</style>




</head>
<body>
<form>
<center>
<div align="center" class="chef" id="chef">
        <img alt="chef" src="https://media.gettyimages.com/photos/young-woman-eating-burger-at-restaurant-with-outdoor-seating-picture-id1252893137?s=2048x2048"
             style="width:100%; " >

        <div class="container">
            <p id="ID"></p>
        </div>
        <a href="http://localhost:5000/restclient" class="back">â€¹</a>
        <center>
        <p class="details" id="chefName"></p>
        <p class="details" id="contact"></p>
        <p class="details" id ="dishname" ></p>
        <p class="details" id ="price"></p>
        <p class="details" id ="availability"></p>
        <input  class = "details"   id="customer" placeholder="Enter your name"  required  > </input>
        <input  class = "details"   id="address" placeholder="Enter address"  required  > </input>
        <input  class = "details"   id="customer_contact" placeholder="contact number"  required  > </input>
        <input  class = "details" type="number"  id="quantity" placeholder="Enter Quantity"  required  > </input>

        <p id="order"></p>
        <p class ="response" style="font-family: 'Ubuntu', sans-serif;"></p>
        </center>


</center>
</form>
</body>
</html>
